function update_dpoae_params;					%function to rewrite parameter fileglobal PARAMS PROG VERSION			   %these are the global variables to be stored								global root_dir NelDatafeval('save',fullfile(root_dir,'DPOAE','workspace','dpoaebjm'),'PARAMS','PROG','VERSION');clear get_dpoae_ins;%parameter files are stored under the subject's name in the subjects directory%file_name = fullfile(root_dir,'DPAOE','get_dpoae_ins.m');file_name = fullfile(root_dir,'..','Users',NelData.General.User,'get_dpaoe_ins.m');fid = fopen(file_name,'wt');					%open file ID as as a writeable text file (text files are easy to read and portable)fprintf(fid,'%s\n','%Distortion Product Instruction Block');		%the following print statements convert parameters to lines of text in parameter filefprintf(fid,'%s\n\n','%Purdue Chamber Version 1.0');		%the following print statements convert parameters to lines of text in parameter filefprintf(fid,'%s%6.3f%c\t\t\t%s\n','frqlo   =',PARAMS(1),';','%low frequency (in kHz) bounds for data');fprintf(fid,'%s%6.3f%c\t\t\t%s\n','frqhi   =',PARAMS(2),';','%high frequency (in kHz) bounds for data');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'fstlin  =',PARAMS(3),';','% # of linear frequency steps (set = 0 for log steps)');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'fstoct  =',PARAMS(4),';','% # of log freq. steps (per oct. OR per 10-dB BW for Qspaced) (= 0 for lin steps; NEGATIVE for Qspaced)');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'ear     =',PARAMS(5),';','%ear code (lft = 1, rgt = 2, both = 3');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'ToneOn  =',PARAMS(6),';','%duration of tone presentation');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'ToneOff =',PARAMS(7),';','%duration of interstim interval');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'Fratio  =',PARAMS(8),';','%ratio of F2/F1');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'ADdur   =',PARAMS(9),';','%Duration to sample the microphone');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'Nreps   =',PARAMS(10),';','%Number of reps per condition');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'CalibSPL=',PARAMS(11),';','%dB SPL corresponding to 0 dB attenuation for ER2');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'L2_dBSPL=',PARAMS(12),';','%dB SPL presentation level for F2');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'L1_dBSPL=',PARAMS(13),';','%dB SPL presentation level for F1');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'MicGain=',PARAMS(14),';','%dB Gain on microphone signal path');fclose(fid);	%close the file and return to parameter change function