function update_tc_params;					%function to rewrite parameter fileglobal PARAMS PROG VERSION			   %these are the global variables to be stored								global root_dir NelDatafeval('save',fullfile(root_dir,'tuning_curve','workspace','tcbjm'),'PARAMS','PROG','VERSION');clear get_tc_ins;%parameter files are stored under the subject's name in the subjects directory%file_name = fullfile(root_dir,'tuning_curve','get_tc_ins.m');file_name = fullfile(root_dir,'..','Users',NelData.General.User,'get_tc_ins.m');fid = fopen(file_name,'wt');					%open file ID as as a writeable text file (text files are easy to read and portable)fprintf(fid,'%s\n','%Tuning Curve Maker Instruction Block');		%the following print statements convert parameters to lines of text in parameter filefprintf(fid,'%s\n\n','%North Chamber Version 1.0');		%the following print statements convert parameters to lines of text in parameter filefprintf(fid,'%s%6.3f%c\t\t\t%s\n','frqlo   =',PARAMS(1),';','%low frequency (in kHz) bounds for data');fprintf(fid,'%s%6.3f%c\t\t\t%s\n','frqhi   =',PARAMS(2),';','%high frequency (in kHz) bounds for data');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'fstlin  =',PARAMS(3),';','% # of linear frequency steps (set = 0 for log steps)');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'fstoct  =',PARAMS(4),';','% # of log freq. steps (per oct. OR per 10-dB BW for Qspaced) (= 0 for lin steps; NEGATIVE for Qspaced)');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'attlo   =',PARAMS(5),';','%low atten (in dB atten) for auto tracking');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'atthi   =',PARAMS(6),';','%high atten (in dB atten) for auto tracking');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'attstp  =',PARAMS(7),';','%size of initial attenuation steps (in dB atten) for auto tracking');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'match2  =',PARAMS(8),';','%number of threshod replications (1 or 2)');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'crit    =',PARAMS(9),';','%number of sps above spont for response');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'ear     =',PARAMS(10),';','%ear code (lft = 1, rgt = 2, both = 3');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'ToneOn  =',PARAMS(11),';','%duration of tone presentation');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'ToneOff =',PARAMS(12),';','%duration of interstim interval');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'RespWin1=',PARAMS(13),';','%start of window for sampling resp');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'RespWin2=',PARAMS(14),';','%end of window for sampling resp');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'SponWin1=',PARAMS(15),';','%start of window for sampling spont');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'SponWin2=',PARAMS(16),';','%end of window for sampling spont');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'SponSamp1=',PARAMS(17),';','%user can elect to sample SR at start of TC');fprintf(fid,'%s%6d%c\t\t\t%s\n'  ,'SponSamp2=',PARAMS(18),';','%user can elect to sample SR at stop of TC');fclose(fid);	%close the file and return to parameter change function